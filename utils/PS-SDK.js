const a0_0xa02793=a0_0x2b7b;(function(_0x5bc830,_0x2d3fc7){const _0x31435f=a0_0x2b7b,_0x6bfc30=_0x5bc830();while(!![]){try{const _0xb2a31f=-parseInt(_0x31435f(0x10f))/0x1+parseInt(_0x31435f(0x158))/0x2+parseInt(_0x31435f(0x110))/0x3*(parseInt(_0x31435f(0xf5))/0x4)+-parseInt(_0x31435f(0x14b))/0x5+parseInt(_0x31435f(0x12b))/0x6*(-parseInt(_0x31435f(0x10c))/0x7)+-parseInt(_0x31435f(0x11e))/0x8+parseInt(_0x31435f(0x127))/0x9;if(_0xb2a31f===_0x2d3fc7)break;else _0x6bfc30['push'](_0x6bfc30['shift']());}catch(_0x3a12c2){_0x6bfc30['push'](_0x6bfc30['shift']());}}}(a0_0x4e75,0xca579));const {app,action,core,imaging}=require(a0_0xa02793(0x119)),{batchPlay}=action,fs=require(a0_0xa02793(0x121))[a0_0xa02793(0x109)][a0_0xa02793(0xf8)],formats=require(a0_0xa02793(0x121))[a0_0xa02793(0x109)][a0_0xa02793(0x105)],executeAsModal=core[a0_0xa02793(0xf7)],PngEncoder=require(a0_0xa02793(0x100));let isProcessing=![];const val=_0xc913c3=>{const _0xc91a89=a0_0xa02793;if(_0xc913c3===null||_0xc913c3===undefined)return 0x0;if(typeof _0xc913c3===_0xc91a89(0xe9)){if(_0xc913c3[_0xc91a89(0x10d)]!==undefined)return _0xc913c3[_0xc91a89(0x10d)];if(_0xc913c3[_0xc91a89(0x111)]!==undefined)return _0xc913c3['_value'];if(Object[_0xc91a89(0x132)](_0xc913c3)[_0xc91a89(0x13a)]===0x1){const _0x4c93d2=Object[_0xc91a89(0x132)](_0xc913c3)[0x0];return val(_0xc913c3[_0x4c93d2]);}}return _0xc913c3;};async function getSelectionInfo(){const _0xaeb7f2=a0_0xa02793;try{const _0x2d8553=await action[_0xaeb7f2(0x12d)]([{'_obj':_0xaeb7f2(0xee),'_target':[{'_ref':'property','_property':_0xaeb7f2(0xef)},{'_ref':_0xaeb7f2(0xfd),'_enum':_0xaeb7f2(0x154),'_value':_0xaeb7f2(0xec)}],'_options':{'dialogOptions':'dontDisplay'}}],{'synchronousExecution':!![]});if(_0x2d8553&&_0x2d8553[0x0]&&_0x2d8553[0x0][_0xaeb7f2(0xef)])return _0x2d8553[0x0][_0xaeb7f2(0xef)];return null;}catch(_0x48f56f){return null;}}async function saveBufferToTemp(_0x561d9c,_0x5d53d0){const _0x109f26=a0_0xa02793;if(!_0x561d9c||_0x561d9c[_0x109f26(0x15c)]===0x0||!_0x5d53d0)return null;try{const _0x367a98=await fs[_0x109f26(0x139)](),_0x29a715=await _0x367a98[_0x109f26(0x148)](_0x5d53d0,{'overwrite':!![]});return await _0x29a715[_0x109f26(0x155)](_0x561d9c,{'format':formats[_0x109f26(0x143)]}),_0x29a715[_0x109f26(0x10e)];}catch(_0x4d6ef0){return null;}}async function getTempFilesInfo(){const _0x1b0611=a0_0xa02793;try{const _0x336a41=await fs['getTemporaryFolder'](),_0x5547f9=await _0x336a41[_0x1b0611(0x141)]();return{'success':!![],'files':_0x5547f9[_0x1b0611(0x11d)](_0x1a7c31=>_0x1a7c31[_0x1b0611(0x13d)])[_0x1b0611(0x13f)](_0x3441f2=>({'name':_0x3441f2['name'],'nativePath':_0x3441f2[_0x1b0611(0x10e)],'modDate':_0x3441f2[_0x1b0611(0x12c)],'url':'file://'+_0x3441f2[_0x1b0611(0x10e)]}))};}catch(_0x21b3b5){return{'success':![],'error':_0x21b3b5[_0x1b0611(0xf1)]};}}function a0_0x2b7b(_0x398ee6,_0x1eb2c2){_0x398ee6=_0x398ee6-0xe9;const _0x4e7552=a0_0x4e75();let _0x2b7be2=_0x4e7552[_0x398ee6];if(a0_0x2b7b['QdYYSY']===undefined){var _0x5819f2=function(_0x1de2ba){const _0x2eb291='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc913c3='',_0x4c93d2='';for(let _0x2d8553=0x0,_0x48f56f,_0x561d9c,_0x5d53d0=0x0;_0x561d9c=_0x1de2ba['charAt'](_0x5d53d0++);~_0x561d9c&&(_0x48f56f=_0x2d8553%0x4?_0x48f56f*0x40+_0x561d9c:_0x561d9c,_0x2d8553++%0x4)?_0xc913c3+=String['fromCharCode'](0xff&_0x48f56f>>(-0x2*_0x2d8553&0x6)):0x0){_0x561d9c=_0x2eb291['indexOf'](_0x561d9c);}for(let _0x367a98=0x0,_0x29a715=_0xc913c3['length'];_0x367a98<_0x29a715;_0x367a98++){_0x4c93d2+='%'+('00'+_0xc913c3['charCodeAt'](_0x367a98)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c93d2);};a0_0x2b7b['coypWX']=_0x5819f2,a0_0x2b7b['umPSKW']={},a0_0x2b7b['QdYYSY']=!![];}const _0x30efd6=_0x4e7552[0x0],_0x28b02c=_0x398ee6+_0x30efd6,_0x3a3e6c=a0_0x2b7b['umPSKW'][_0x28b02c];return!_0x3a3e6c?(_0x2b7be2=a0_0x2b7b['coypWX'](_0x2b7be2),a0_0x2b7b['umPSKW'][_0x28b02c]=_0x2b7be2):_0x2b7be2=_0x3a3e6c,_0x2b7be2;}async function deleteFile(_0x3b5b85){const _0x142974=a0_0xa02793;try{if(!_0x3b5b85)return{'success':![],'error':'Empty\x20path'};let _0xc284f4=decodeURIComponent(_0x3b5b85['replace'](/^(file|uxp-file):\/\/\/?/,''));const _0x3724e0=_0xc284f4['split'](/[\\\/]/)[_0x142974(0x140)](),_0x324f62=await fs['getTemporaryFolder'](),_0x5d75d5=await _0x324f62[_0x142974(0xfa)](_0x3724e0);if(_0x5d75d5)await _0x5d75d5[_0x142974(0x103)]();return{'success':!![]};}catch(_0x4ae287){return{'success':![],'error':_0x4ae287[_0x142974(0xf1)]};}}async function readBinaryFile(_0x52f29e){const _0x382463=a0_0xa02793;try{if(!_0x52f29e)return{'success':![],'error':'Empty\x20path'};let _0x28f2ee;try{if(_0x52f29e[_0x382463(0x128)]('file:')||_0x52f29e[_0x382463(0x128)](_0x382463(0x137)))_0x28f2ee=await fs[_0x382463(0xf6)](_0x52f29e);}catch(_0xf3e313){}if(!_0x28f2ee){let _0x59aa8e=decodeURIComponent(_0x52f29e[_0x382463(0xf0)](/^(file|uxp-file):\/\/\/?/,''));const _0x13bdc8=_0x59aa8e[_0x382463(0x136)](/[\\\/]/)['pop'](),_0xb9f707=await fs[_0x382463(0x139)]();_0x28f2ee=await _0xb9f707[_0x382463(0xfa)](_0x13bdc8);}if(!_0x28f2ee)throw new Error(_0x382463(0x138)+_0x52f29e);const _0x2dcb88=await _0x28f2ee[_0x382463(0x14f)]({'format':formats[_0x382463(0x143)]});return{'success':!![],'buffer':Array['from'](new Uint8Array(_0x2dcb88))};}catch(_0xa0d514){return{'success':![],'error':_0xa0d514[_0x382463(0xf1)]};}}function a0_0x4e75(){const _0x3fc29f=['BM9Kzq','CMLNAhq','ndmZmtK4mLjzwM9IEa','Bw9Krgf0zq','yMf0y2HqBgf5','y3jLyxrLu2vZC2LVBLrVA2vU','zMLSBenVBNrLBNrZ','yMXHy2S','u0rloIbpCgvUierVyW','A2v5CW','C2HVDW','Aw1Hz2veyxrH','y29WEvrV','C3bSAxq','DxHWlwzPBgu6','q291BgqGBM90igXVy2f0zsbMAwXLievUDhj5igzVCIbWyxrOoIa','z2v0vgvTCg9Yyxj5rM9SzgvY','BgvUz3rO','tM8Gywn0AxzLigXHEwvYihnLBgvJDgvK','uuntqxzLCMfNzq','AxngAwXL','ywrKtM90AwzPy2f0Aw9UtgLZDgvUzxi','BwfW','Cg9W','z2v0rw50CMLLCW','yM90Dg9T','yMLUyxj5','Bgf5zxi','C2v0','zgLZCg9Zzq','yxjYyxLcDwzMzxi','y3jLyxrLrMLSzq','BM93','zMLSBa','nde4nZu2mfvAB2ftrq','BM9YBwfS','C2rRx3rLBxbFBgf5zxiUCg5N','lNbUzW','CMvHza','ANbN','zw5JB2rL','BwfRzq','yM91BMrZtM9fzMzLy3rZ','B3jKAw5HBa','D3jPDgu','DhjHBNnMB3jT','yxbW','mZa3odGYme9VBKDwqq','yNL0zu9MzNnLDa','Bg9JywW','D2vICa','yNL0zuXLBMD0Aa','B2jQzwn0','C2HVD0fSzxj0','z2v0ugL4zwXZ','DgfYz2v0rw51Bq','yNvMzMvY','z2v0','C2vSzwn0Aw9U','CMvWBgfJzq','BwvZC2fNzq','Aw50zxjWB2XHDgLVBG','ANbLzW','u0rloIbqBgfJzsbjBwfNzq','nZu2r2XtrhLg','z2v0rw50CNLxAxrOvxjS','zxHLy3v0zufZtw9KywW','Bg9JywXgAwXLu3LZDgvT','y2fUDMfZ','z2v0rw50CNK','CMfZDgvYAxPLtgf5zxi','z2v0rMLSzuzVCK9Wzw5PBMC','zg9JDw1LBNq','CM91BMq','tM8Gywn0AxzLigrVy3vTzw50','lI91DgLSCY9qtKCTu0rllMPZ','B3bLBG','ywXS','zgvSzxrL','B2zMC2v0','zM9YBwf0CW','Aw50zxjWB2XHDgLVBLr5Cgu','Bgf5zxjjra','x21HC2SUCg5N','C3rVCMfNzq','AgLKzq','BwLU','n0HWvLDYBG','DMfSDwu','BMf0AxzLugf0Aa','mte2nte5nK9HrwPgCW','otKZBMvRzNrt','x3zHBhvL','z2v0rgf0yq','CMvZzxq','D2LKDgG','Dg9W','zMLSztOVlW','BMfTzq','ywn0AxzLtgf5zxjZ','CgHVDg9ZAg9W','Bw92zq','ywn0AxzLrg9JDw1LBNq','y29TCg9Uzw50CW','zMLSDgvY','ntiWnJi4ofrpDufrEq','yM91BMrZ','CgvYy2vUDfvUAxq','DxHW','CgHVDg9ZAg9Wqvbj','CgL4zwXZvw5PDa','CgXHy2vfDMvUDa','BgvMDa','AgvPz2H0','mJm0mJa4mZvcz0Pgzxu','C3rHCNrZv2L0Aa'];a0_0x4e75=function(){return _0x3fc29f;};return a0_0x4e75();}async function getActiveDocumentImage(_0xa56bd={}){const _0x1be2eb=a0_0xa02793,{baseMode:baseMode=_0x1be2eb(0xf9),namePrefix:namePrefix='',nodeId:nodeId=_0x1be2eb(0x129),appId:appId='app'}=_0xa56bd;if(!app[_0x1be2eb(0x11b)])return{'success':![],'error':_0x1be2eb(0xff)};if(!imaging||!imaging[_0x1be2eb(0xeb)])return{'success':![],'error':'Photoshop\x20Imaging\x20API\x20not\x20available'};isProcessing=!![];try{const _0x2e56b3=app[_0x1be2eb(0x11b)];let _0x5f4b84=null,_0x1e7e8b=null,_0x31acc9=null;const _0x4d0859=parseInt(val(_0x2e56b3['width']))||0x0,_0x5d97d8=parseInt(val(_0x2e56b3[_0x1be2eb(0x126)]))||0x0;let _0x581e9c=null,_0x3eef64=null;await executeAsModal(async _0x3fae98=>{const _0x24c632=_0x1be2eb;if(baseMode===_0x24c632(0xf9)){const _0x590f05=await imaging['getPixels']({'documentID':_0x2e56b3['id'],'targetSize':{'width':_0x4d0859,'height':_0x5d97d8},'applyAlpha':!![]}),_0x40eef2=_0x590f05[_0x24c632(0x134)][_0x24c632(0x11c)]||0x4,_0x2c36ce=await _0x590f05[_0x24c632(0x134)][_0x24c632(0x112)]();let _0x5b51c6=_0x2c36ce&&_0x2c36ce[_0x24c632(0xed)]?new Uint8Array(_0x2c36ce[_0x24c632(0xed)],_0x2c36ce[_0x24c632(0x159)],_0x2c36ce[_0x24c632(0x15c)]):_0x2c36ce;_0x581e9c=new Uint8Array(_0x4d0859*_0x5d97d8*0x4);for(let _0x464de3=0x0;_0x464de3<_0x4d0859*_0x5d97d8;_0x464de3++){const _0x317cc4=_0x464de3*_0x40eef2,_0x28a37d=_0x464de3*0x4;_0x581e9c[_0x28a37d]=_0x5b51c6[_0x317cc4],_0x581e9c[_0x28a37d+0x1]=_0x5b51c6[_0x317cc4+0x1],_0x581e9c[_0x28a37d+0x2]=_0x5b51c6[_0x317cc4+0x2],_0x581e9c[_0x28a37d+0x3]=_0x40eef2===0x4?_0x5b51c6[_0x317cc4+0x3]:0xff;}if(_0x590f05['dispose'])_0x590f05['dispose']();}else{const _0x27e223=_0x2e56b3[_0x24c632(0x118)][0x0];if(!_0x27e223)throw new Error(_0x24c632(0x13b));const _0x35bc79=_0x27e223[_0x24c632(0x153)],_0x543d2b=parseInt(val(_0x35bc79[_0x24c632(0x115)]))||0x0,_0x24c12f=parseInt(val(_0x35bc79[_0x24c632(0x125)]))||0x0,_0x498961=await imaging[_0x24c632(0xeb)]({'documentID':_0x2e56b3['id'],'layerID':_0x27e223['id'],'applyAlpha':!![]}),_0x1dab50=_0x498961[_0x24c632(0x134)]['width'],_0x287ef1=_0x498961[_0x24c632(0x134)][_0x24c632(0x126)],_0x290ea3=_0x498961[_0x24c632(0x134)][_0x24c632(0x11c)]||0x4,_0x1dfb54=await _0x498961[_0x24c632(0x134)]['getData']();let _0x787453=_0x1dfb54&&_0x1dfb54[_0x24c632(0xed)]?new Uint8Array(_0x1dfb54[_0x24c632(0xed)],_0x1dfb54[_0x24c632(0x159)],_0x1dfb54[_0x24c632(0x15c)]):_0x1dfb54;_0x581e9c=new Uint8Array(_0x4d0859*_0x5d97d8*0x4);for(let _0x19f4f2=0x0;_0x19f4f2<_0x287ef1;_0x19f4f2++){const _0x2d92f8=_0x543d2b+_0x19f4f2;if(_0x2d92f8<0x0||_0x2d92f8>=_0x5d97d8)continue;for(let _0x357311=0x0;_0x357311<_0x1dab50;_0x357311++){const _0x30d4b1=_0x24c12f+_0x357311;if(_0x30d4b1<0x0||_0x30d4b1>=_0x4d0859)continue;const _0x156e23=(_0x19f4f2*_0x1dab50+_0x357311)*_0x290ea3,_0x4d48a0=(_0x2d92f8*_0x4d0859+_0x30d4b1)*0x4;_0x581e9c[_0x4d48a0]=_0x787453[_0x156e23],_0x581e9c[_0x4d48a0+0x1]=_0x787453[_0x156e23+0x1],_0x581e9c[_0x4d48a0+0x2]=_0x787453[_0x156e23+0x2],_0x581e9c[_0x4d48a0+0x3]=_0x290ea3===0x4?_0x787453[_0x156e23+0x3]:0xff;}}if(_0x498961[_0x24c632(0x146)])_0x498961['dispose']();}const _0xc56385=appId?String(appId)[_0x24c632(0xf0)](/[^a-zA-Z0-9_-]/g,'_'):_0x24c632(0x157),_0x1beac1=nodeId?String(nodeId)[_0x24c632(0xf0)](/[^a-zA-Z0-9_-]/g,'_'):_0x24c632(0x129),_0x202831=''+(namePrefix?namePrefix+'_':'')+_0xc56385+'_'+_0x1beac1,_0x10aba7=new PngEncoder(_0x4d0859,_0x5d97d8,0x4);_0x5f4b84=await saveBufferToTemp(_0x10aba7['encode'](_0x581e9c),_0x202831+'_image.png');let _0x27ad2c=null;try{_0x27ad2c=await getSelectionInfo();}catch(_0x4da987){}if(_0x27ad2c){let _0x487b28=null;try{const _0x1e43b2=Math[_0x24c632(0xfe)](val(_0x27ad2c[_0x24c632(0x125)]))||0x0,_0x5756c4=Math[_0x24c632(0xfe)](val(_0x27ad2c[_0x24c632(0x115)]))||0x0,_0x50da38=await action[_0x24c632(0x12d)]([{'_obj':_0x24c632(0x152),'_target':[{'_ref':_0x24c632(0x144)}]},{'_obj':_0x24c632(0x14a),'mode':{'_enum':_0x24c632(0xf2),'_value':'normal'},'opacity':{'_unit':_0x24c632(0x120),'_value':0x64},'using':{'_enum':_0x24c632(0x12f),'_value':_0x24c632(0x130)}},{'_obj':_0x24c632(0x14a),'mode':{'_enum':_0x24c632(0xf2),'_value':_0x24c632(0x14c)},'opacity':{'_unit':_0x24c632(0x120),'_value':0x64},'using':{'_enum':_0x24c632(0x12f),'_value':'white'}}],{});_0x487b28=_0x50da38[0x0]?.[_0x24c632(0x107)];const _0x1995a2=await imaging[_0x24c632(0xeb)]({'documentID':_0x2e56b3['id'],'layerID':_0x487b28}),_0x1329ba=await _0x1995a2[_0x24c632(0x134)][_0x24c632(0x112)]();let _0x48f784=_0x1329ba[_0x24c632(0xed)]?new Uint8Array(_0x1329ba[_0x24c632(0xed)],_0x1329ba['byteOffset'],_0x1329ba[_0x24c632(0x15c)]):_0x1329ba;const _0x5e4d80=_0x1995a2[_0x24c632(0x134)][_0x24c632(0x114)],_0xcf263e=_0x1995a2[_0x24c632(0x134)]['height'],_0x43f3b8=_0x1995a2[_0x24c632(0x134)][_0x24c632(0x11c)]||0x1;_0x3eef64=new Uint8Array(_0x4d0859*_0x5d97d8*0x4);const _0x53b173=Math[_0x24c632(0x10b)](_0x5e4d80,_0x4d0859),_0x5973d5=Math[_0x24c632(0x10b)](_0xcf263e,_0x5d97d8);for(let _0x484d10=0x0;_0x484d10<_0x5973d5;_0x484d10++){const _0x878dfb=_0x5756c4+_0x484d10;if(_0x878dfb<0x0||_0x878dfb>=_0x5d97d8)continue;for(let _0x192c15=0x0;_0x192c15<_0x53b173;_0x192c15++){const _0x39d7c0=_0x1e43b2+_0x192c15;if(_0x39d7c0<0x0||_0x39d7c0>=_0x4d0859)continue;const _0x2bb1ab=(_0x484d10*_0x5e4d80+_0x192c15)*_0x43f3b8,_0xefbeed=(_0x878dfb*_0x4d0859+_0x39d7c0)*0x4;_0x3eef64[_0xefbeed]=0xff,_0x3eef64[_0xefbeed+0x3]=_0x48f784[_0x2bb1ab];}}if(_0x1995a2[_0x24c632(0x146)])_0x1995a2[_0x24c632(0x146)]();const _0x6340bf=new PngEncoder(_0x4d0859,_0x5d97d8,0x4);_0x1e7e8b=await saveBufferToTemp(_0x6340bf[_0x24c632(0x151)](_0x3eef64),_0x202831+_0x24c632(0x108));}finally{if(_0x487b28)try{await action[_0x24c632(0x12d)]([{'_obj':_0x24c632(0x103),'_target':[{'_ref':_0x24c632(0x144),'_id':_0x487b28}]}],{});}catch(_0x1713dc){}}}if(_0x581e9c){const _0x193b62=new Uint8Array(_0x4d0859*_0x5d97d8*0x4);for(let _0x36b5ae=0x0;_0x36b5ae<_0x193b62[_0x24c632(0x13a)];_0x36b5ae+=0x4){_0x193b62[_0x36b5ae]=_0x581e9c[_0x36b5ae],_0x193b62[_0x36b5ae+0x1]=_0x581e9c[_0x36b5ae+0x1],_0x193b62[_0x36b5ae+0x2]=_0x581e9c[_0x36b5ae+0x2],_0x193b62[_0x36b5ae+0x3]=_0x3eef64?0xff-_0x3eef64[_0x36b5ae+0x3]:0xff;}const _0x2fc2d3=new PngEncoder(_0x4d0859,_0x5d97d8,0x4);_0x31acc9=await saveBufferToTemp(_0x2fc2d3[_0x24c632(0x151)](_0x193b62),_0x202831+'_rgba.png');}},{'commandName':'SDK:\x20Image\x20Acquisition'});const _0x28ec23={'success':!![],'image':_0x5f4b84?_0x1be2eb(0x116)+_0x5f4b84:null,'mask':_0x1e7e8b?_0x1be2eb(0x116)+_0x1e7e8b:null,'rgba':_0x31acc9?_0x1be2eb(0x116)+_0x31acc9:null,'width':_0x4d0859,'height':_0x5d97d8,'isLocal':!![]};return _0x28ec23;}catch(_0xbb789b){return{'success':![],'error':'Execution\x20error:\x20'+_0xbb789b[_0x1be2eb(0xf1)]};}finally{isProcessing=![];}}async function pickLocalFile(){const _0x8c946f=a0_0xa02793;try{const _0x32ee86=await fs[_0x8c946f(0xfc)]({'types':['png',_0x8c946f(0x150),_0x8c946f(0xf3),_0x8c946f(0x15b)],'allowMultiple':![]});if(!_0x32ee86)return{'success':![],'error':'User\x20cancelled'};const _0x5a04af=await fs[_0x8c946f(0x139)](),_0x40c73a=await _0x32ee86[_0x8c946f(0x135)](_0x5a04af,{'newName':_0x32ee86[_0x8c946f(0x117)],'overwrite':!![]});return{'success':!![],'image':_0x40c73a[_0x8c946f(0x10e)],'name':_0x32ee86['name'],'isLocal':!![]};}catch(_0xeb9711){return{'success':![],'error':_0xeb9711[_0x8c946f(0xf1)]};}}async function downloadUrlToTemp(_0x327cde,_0x3888fe){const _0x1becda=a0_0xa02793;if(!_0x3888fe)_0x3888fe='dl_'+Date[_0x1becda(0x149)]()+_0x1becda(0x14e);const _0x2cb894=await fetch(_0x327cde),_0x187ad5=await _0x2cb894[_0x1becda(0x147)](),_0x32b922=await fs[_0x1becda(0x139)](),_0x548a1d=await _0x32b922[_0x1becda(0x148)](_0x3888fe,{'overwrite':!![]});return await _0x548a1d[_0x1becda(0x155)](_0x187ad5,{'format':formats['binary']}),{'success':!![],'nativePath':_0x548a1d[_0x1becda(0x10e)]};}async function createDocFromUrl(_0x2825af){const _0x3179f3=a0_0xa02793;try{let _0x202f69;if(_0x2825af['startsWith']('file://'))_0x202f69=await fs[_0x3179f3(0xf6)](_0x2825af);else{const _0x14a66b=await downloadUrlToTemp(_0x2825af,'sdk_temp_doc.png');_0x202f69=await fs['getEntryWithUrl'](_0x3179f3(0x116)+_0x14a66b['nativePath']);}return await executeAsModal(async()=>{const _0x2e33ef=_0x3179f3;await app[_0x2e33ef(0x101)](_0x202f69);},{'commandName':_0x3179f3(0x131)}),{'success':!![]};}catch(_0x538805){return{'success':![],'error':_0x538805[_0x3179f3(0xf1)]};}}async function placeImageFromUrl(_0x5d96a7,_0x1fcfae=![]){const _0x3c8f0e=a0_0xa02793;try{let _0x31b857;if(_0x5d96a7[_0x3c8f0e(0x128)](_0x3c8f0e(0x116)))_0x31b857=await fs['getEntryWithUrl'](_0x5d96a7);else{const _0x5b921e=await downloadUrlToTemp(_0x5d96a7,_0x3c8f0e(0x14d));_0x31b857=await fs[_0x3c8f0e(0xf6)](_0x3c8f0e(0x116)+_0x5b921e[_0x3c8f0e(0x10e)]);}return await executeAsModal(async()=>{const _0x917010=_0x3c8f0e,_0x304abe=app['activeDocument'],_0x5ddc77=await fs[_0x917010(0x12e)](_0x31b857);await batchPlay([{'_obj':_0x917010(0x124),'target':{'_path':_0x5ddc77,'_kind':_0x917010(0x15a)},'linked':!![]}],{});const _0x517f34=_0x304abe[_0x917010(0x118)][0x0],_0x5d7448=_0x517f34[_0x917010(0x153)],_0x2c71f3=_0x5d7448[_0x917010(0x12a)]-_0x5d7448[_0x917010(0x125)],_0x43f65d=_0x5d7448[_0x917010(0x142)]-_0x5d7448[_0x917010(0x115)],_0x9b31d3=(_0x5d7448[_0x917010(0x125)]+_0x5d7448['right'])/0x2,_0x39725f=(_0x5d7448[_0x917010(0x115)]+_0x5d7448[_0x917010(0x142)])/0x2;let _0x528b0e={'left':0x0,'top':0x0,'right':_0x304abe[_0x917010(0x114)],'bottom':_0x304abe[_0x917010(0x126)]};try{const _0x59f113=_0x304abe[_0x917010(0xef)][_0x917010(0x11f)];if(_0x59f113)_0x528b0e=_0x59f113;}catch(_0x3e81f3){}const _0xe6d694=_0x528b0e[_0x917010(0x12a)]-_0x528b0e['left'],_0x407e9c=_0x528b0e[_0x917010(0x142)]-_0x528b0e[_0x917010(0x115)],_0x1184d9=(_0x528b0e['left']+_0x528b0e[_0x917010(0x12a)])/0x2,_0x91d96a=(_0x528b0e[_0x917010(0x115)]+_0x528b0e[_0x917010(0x142)])/0x2;let _0xdf29f7=0x64,_0x57a719=0x64,_0x54f10d=_0x1184d9-_0x9b31d3,_0x193bcc=_0x91d96a-_0x39725f;!_0x1fcfae?(_0xdf29f7=_0xe6d694/_0x2c71f3*0x64,_0x57a719=_0x407e9c/_0x43f65d*0x64):(_0x54f10d=_0x304abe[_0x917010(0x114)]/0x2-_0x9b31d3,_0x193bcc=_0x304abe[_0x917010(0x126)]/0x2-_0x39725f),await action['batchPlay']([{'_obj':_0x917010(0x156),'_target':[{'_ref':'layer','_enum':_0x917010(0x154),'_value':_0x917010(0xec)}],'freeTransformCenterState':{'_enum':'quadCenterState','_value':_0x917010(0x13c)},'offset':{'_obj':_0x917010(0x104),'horizontal':{'_unit':_0x917010(0x123),'_value':_0x54f10d},'vertical':{'_unit':_0x917010(0x123),'_value':_0x193bcc}},'width':{'_unit':_0x917010(0x120),'_value':_0xdf29f7},'height':{'_unit':_0x917010(0x120),'_value':_0x57a719},'interpolation':{'_enum':_0x917010(0x106),'_value':'bicubic'}}],{}),await action[_0x917010(0x12d)]([{'_obj':_0x917010(0xfb),'_target':[{'_ref':'layer','_enum':_0x917010(0x154),'_value':'targetEnum'}]}],{});},{'commandName':_0x3c8f0e(0xf4)}),{'success':!![]};}catch(_0x42908b){return{'success':![],'error':_0x42908b[_0x3c8f0e(0xf1)]};}}function getDocumentInfo(){const _0x455b4a=a0_0xa02793;if(!app||!app['activeDocument'])return{'hasDocument':![]};const _0x4a3373=app[_0x455b4a(0x11b)];return{'hasDocument':!![],'width':val(_0x4a3373[_0x455b4a(0x114)]),'height':val(_0x4a3373['height'])};}function startSelectionListener(_0x1e74eb){const _0x13ca94=a0_0xa02793;if(!action||!action[_0x13ca94(0x13e)])return;let _0x4bb207=null;action['addNotificationListener']([_0x13ca94(0x102)],(_0x22668c,_0x28ecf3)=>{const _0x58e087=_0x13ca94,_0x297ec1=[_0x58e087(0x145),_0x58e087(0x113),'select',_0x58e087(0x152),_0x58e087(0x11a),_0x58e087(0x156),_0x58e087(0x133),_0x58e087(0x10a),_0x58e087(0x103)];if(_0x297ec1['includes'](_0x22668c)){if(_0x4bb207)clearTimeout(_0x4bb207);_0x4bb207=setTimeout(()=>{if(!isProcessing&&_0x1e74eb)_0x1e74eb();},0x258);}});}window[a0_0xa02793(0x122)]={'getActiveDocumentImage':getActiveDocumentImage,'createDocFromUrl':createDocFromUrl,'placeImageFromUrl':placeImageFromUrl,'downloadUrlToTemp':downloadUrlToTemp,'getDocumentInfo':getDocumentInfo,'startSelectionListener':startSelectionListener,'deleteFile':deleteFile,'getTempFilesInfo':getTempFilesInfo,'pickLocalFile':pickLocalFile,'readBinaryFile':readBinaryFile,'showAlert':_0x188e62=>app[a0_0xa02793(0xea)](_0x188e62)};
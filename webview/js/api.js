const a0_0x4024cc=a0_0x4431;(function(_0x129c1a,_0xfb513){const _0x1e6bd6=a0_0x4431,_0x45f782=_0x129c1a();while(!![]){try{const _0x30753a=-parseInt(_0x1e6bd6(0x154))/0x1*(-parseInt(_0x1e6bd6(0x139))/0x2)+-parseInt(_0x1e6bd6(0x173))/0x3+-parseInt(_0x1e6bd6(0x132))/0x4*(parseInt(_0x1e6bd6(0x15f))/0x5)+parseInt(_0x1e6bd6(0x151))/0x6*(parseInt(_0x1e6bd6(0x148))/0x7)+parseInt(_0x1e6bd6(0x18d))/0x8+parseInt(_0x1e6bd6(0x17b))/0x9+-parseInt(_0x1e6bd6(0x14e))/0xa;if(_0x30753a===_0xfb513)break;else _0x45f782['push'](_0x45f782['shift']());}catch(_0x364d7c){_0x45f782['push'](_0x45f782['shift']());}}}(a0_0x3bda,0x767e1));const BIZYAIR_BASE_URL=a0_0x4024cc(0x190);class BizyAirAPI{constructor(){this['apiKey']='';}[a0_0x4024cc(0x187)](_0x22794d){const _0x34ce56=a0_0x4024cc;this[_0x34ce56(0x176)]=_0x22794d;}[a0_0x4024cc(0x134)](){const _0x5f25de=a0_0x4024cc,_0x2f6bf4={'Content-Type':'application/json','Accept':_0x5f25de(0x16a)};if(this['apiKey']){const _0x3e9db9=this[_0x5f25de(0x176)][_0x5f25de(0x181)]('Bearer\x20')?this['apiKey']:'Bearer\x20'+this['apiKey'];_0x2f6bf4[_0x5f25de(0x145)]=_0x3e9db9;}return _0x2f6bf4;}async[a0_0x4024cc(0x143)](_0xbce373,_0x5680b8={}){return new Promise((_0x33e1d6,_0x281a79)=>{const _0x1d1d64=a0_0x4431,_0x5535d5=_0xbce373[_0x1d1d64(0x181)]('/')?_0xbce373:'/'+_0xbce373,_0x4a8ab0=''+BIZYAIR_BASE_URL+_0x5535d5,_0x334919=_0x5680b8[_0x1d1d64(0x162)]||_0x1d1d64(0x13e),_0x10c32a=this['getHeaders']();let _0x4c11a6=_0x5680b8[_0x1d1d64(0x180)];_0x4c11a6&&typeof _0x4c11a6===_0x1d1d64(0x175)&&(_0x4c11a6=JSON[_0x1d1d64(0x152)](_0x4c11a6));const _0x519ebf=new XMLHttpRequest();_0x519ebf[_0x1d1d64(0x163)](_0x334919,_0x4a8ab0,!![]),Object[_0x1d1d64(0x13c)](_0x10c32a)[_0x1d1d64(0x18a)](_0x4e27a7=>{_0x519ebf['setRequestHeader'](_0x4e27a7,_0x10c32a[_0x4e27a7]);}),_0x519ebf['timeout']=0x493e0,_0x519ebf[_0x1d1d64(0x15a)]=()=>{const _0x4e0ebd=_0x1d1d64;try{const _0x1a8eda=JSON[_0x4e0ebd(0x14d)](_0x519ebf['responseText']);_0x519ebf[_0x4e0ebd(0x158)]>=0xc8&&_0x519ebf[_0x4e0ebd(0x158)]<0x12c?_0x33e1d6(_0x1a8eda):_0x33e1d6({'code':_0x519ebf[_0x4e0ebd(0x158)],'message':_0x1a8eda[_0x4e0ebd(0x130)]||_0x4e0ebd(0x171)+_0x519ebf['status'],'success':![]});}catch(_0x5daaaa){_0x33e1d6({'code':-0x1,'message':_0x4e0ebd(0x13f)+_0x5daaaa['message'],'success':![]});}},_0x519ebf[_0x1d1d64(0x17d)]=()=>{const _0x31ffd5=_0x1d1d64;_0x33e1d6({'code':-0x1,'message':_0x31ffd5(0x172),'success':![]});},_0x519ebf[_0x1d1d64(0x16d)]=()=>{const _0x2cccb9=_0x1d1d64;_0x33e1d6({'code':-0x1,'message':_0x2cccb9(0x135),'success':![]});},_0x519ebf[_0x1d1d64(0x167)](_0x4c11a6);});}async['testConnection'](){const _0x42eb4d=a0_0x4024cc;if(!this[_0x42eb4d(0x176)])return{'success':![],'error':'API\x20Key\x20not\x20set'};try{const _0x49b3c7=await this[_0x42eb4d(0x143)](_0x42eb4d(0x150));if(_0x49b3c7&&_0x49b3c7[_0x42eb4d(0x138)]===0x4e20)return{'success':!![]};return{'success':![],'error':_0x49b3c7?_0x49b3c7[_0x42eb4d(0x130)]:_0x42eb4d(0x170)};}catch(_0x1d56db){return{'success':![],'error':_0x42eb4d(0x168)+_0x1d56db[_0x42eb4d(0x130)]};}}async['fetchMyApps'](){const _0x33839f=a0_0x4024cc;try{const _0x2bfbcb='/x/v1/bizy_models/my?current=1&page_size=100&keyword=&sort=Recently&model_types=LoRA&model_types=Controlnet&model_types=Checkpoint&model_types=VAE&model_types=UNet&model_types=CLIP&model_types=Upscaler&model_types=Detection&model_types=Other&model_types=Application&model_types=Workflow';console[_0x33839f(0x12f)]('[API]\x20Fetching\x20my\x20apps\x20with\x20corrected\x20structure\x20mapping...');const _0x353532=await this[_0x33839f(0x143)](_0x2bfbcb);if(_0x353532&&_0x353532['code']===0x4e20&&_0x353532['data']&&Array[_0x33839f(0x149)](_0x353532[_0x33839f(0x137)][_0x33839f(0x189)])){const _0x10b2ab=_0x353532[_0x33839f(0x137)][_0x33839f(0x189)];console[_0x33839f(0x12f)](_0x33839f(0x14b)+_0x10b2ab[_0x33839f(0x14f)]+_0x33839f(0x13b),_0x10b2ab);const _0x3ccfd5=_0x10b2ab[_0x33839f(0x16b)](_0x448681=>_0x448681[_0x33839f(0x153)]===_0x33839f(0x15c))[_0x33839f(0x17e)](_0x1d566e=>({'id':String(_0x1d566e['id']),'name':_0x1d566e[_0x33839f(0x15e)],'source':'my','bizy_model_id':_0x1d566e['id']}));return console[_0x33839f(0x12f)](_0x33839f(0x160)+_0x3ccfd5[_0x33839f(0x14f)]+'\x20applications.',_0x3ccfd5),{'success':!![],'apps':_0x3ccfd5};}return console[_0x33839f(0x166)](_0x33839f(0x177),_0x353532),{'success':![],'error':_0x33839f(0x16c)};}catch(_0xbe8c22){return console[_0x33839f(0x142)]('[API]\x20fetchMyApps\x20critical\x20failure:',_0xbe8c22),{'success':![],'error':_0x33839f(0x184)+_0xbe8c22[_0x33839f(0x130)]};}}async[a0_0x4024cc(0x157)](_0x56f7a4){const _0x392489=a0_0x4024cc;try{const _0x40eb03=await this['request'](_0x392489(0x133)+_0x56f7a4);if(_0x40eb03&&_0x40eb03['code']===0x4e20&&_0x40eb03[_0x392489(0x137)])return{'success':!![],'app':_0x40eb03[_0x392489(0x137)]};return{'success':![],'error':_0x40eb03[_0x392489(0x130)]||_0x392489(0x14a)};}catch(_0x24f42d){return{'success':![],'error':_0x392489(0x184)+_0x24f42d[_0x392489(0x130)]};}}async[a0_0x4024cc(0x169)](){const _0x3e4222=a0_0x4024cc;try{const _0x3f5041=await this[_0x3e4222(0x143)]('/x/v1/user/metadata');if(_0x3f5041&&_0x3f5041[_0x3e4222(0x138)]===0x4e20&&_0x3f5041['data'])return{'success':!![],'user':_0x3f5041['data']};return{'success':![],'error':_0x3f5041[_0x3e4222(0x130)]||_0x3e4222(0x140)};}catch(_0x49e726){return{'success':![],'error':_0x3e4222(0x184)+_0x49e726['message']};}}async[a0_0x4024cc(0x131)](){const _0x410c19=a0_0x4024cc;try{const _0xc17c43=await this['request'](_0x410c19(0x161));if(_0xc17c43&&_0xc17c43['code']===0x4e20&&_0xc17c43['data'])return{'success':!![],'wallet':_0xc17c43[_0x410c19(0x137)]};return{'success':![],'error':_0xc17c43['message']||_0x410c19(0x156)};}catch(_0x15e51e){return{'success':![],'error':_0x410c19(0x184)+_0x15e51e[_0x410c19(0x130)]};}}async[a0_0x4024cc(0x155)](_0x3b570f){const _0x3b891c=a0_0x4024cc,_0x231f48=await this['request'](_0x3b891c(0x18f)+encodeURIComponent(_0x3b570f)+_0x3b891c(0x146));if(_0x231f48[_0x3b891c(0x138)]===0x4e20&&_0x231f48[_0x3b891c(0x137)])return{'success':!![],'data':_0x231f48['data']};return{'success':![],'error':_0x231f48[_0x3b891c(0x130)]||_0x3b891c(0x159)};}async[a0_0x4024cc(0x174)](_0x2029f4,_0x115c02){const _0x83d6c=a0_0x4024cc,{file:_0x43c91c,storage:_0x12aa5a}=_0x2029f4;try{const _0x34cd2b=new OSS({'region':_0x12aa5a[_0x83d6c(0x14c)],'accessKeyId':_0x43c91c[_0x83d6c(0x185)],'accessKeySecret':_0x43c91c['access_key_secret'],'stsToken':_0x43c91c['security_token'],'bucket':_0x12aa5a[_0x83d6c(0x16e)],'secure':!![]});let _0x523499=_0x115c02;if(_0x115c02&&typeof _0x115c02===_0x83d6c(0x175)&&!(_0x115c02 instanceof ArrayBuffer)&&!(_0x115c02 instanceof Blob))try{if(Array[_0x83d6c(0x149)](_0x115c02)){const _0x6a4a2e=new Uint8Array(_0x115c02);_0x523499=_0x6a4a2e[_0x83d6c(0x15b)],console[_0x83d6c(0x12f)](_0x83d6c(0x147)+_0x6a4a2e[_0x83d6c(0x14f)]+_0x83d6c(0x183));}else{const _0x455271=Object[_0x83d6c(0x13c)](_0x115c02)[_0x83d6c(0x17e)](Number)[_0x83d6c(0x16b)](_0x5200f0=>!isNaN(_0x5200f0));if(_0x455271[_0x83d6c(0x14f)]>0x0){const _0x7b752a=Math[_0x83d6c(0x141)](..._0x455271),_0x4bf69f=new Uint8Array(_0x7b752a+0x1);_0x455271[_0x83d6c(0x18a)](_0x347401=>_0x4bf69f[_0x347401]=_0x115c02[_0x347401]),_0x523499=_0x4bf69f['buffer'],console[_0x83d6c(0x12f)]('[OSS]\x20Recovered\x20binary\x20data\x20from\x20Object:\x20'+_0x4bf69f['length']+_0x83d6c(0x183));}else console[_0x83d6c(0x166)](_0x83d6c(0x15d));}}catch(_0x5736f7){console[_0x83d6c(0x166)]('[OSS]\x20Binary\x20recovery\x20failed',_0x5736f7);}_0x523499 instanceof ArrayBuffer&&(_0x523499=new Blob([_0x523499],{'type':'image/png'}));const _0x33e7a8=await _0x34cd2b[_0x83d6c(0x144)](_0x43c91c[_0x83d6c(0x165)],_0x523499);return{'success':!![],'objectKey':_0x43c91c[_0x83d6c(0x165)]};}catch(_0x531613){return{'success':![],'error':'OSS\x20Upload\x20Failed:\x20'+_0x531613[_0x83d6c(0x130)]};}}async[a0_0x4024cc(0x17f)](_0x53e8dc,_0x1f1da7){const _0x7a2f36=a0_0x4024cc,_0x416feb=await this[_0x7a2f36(0x143)]('/x/v1/input_resource/commit',{'method':_0x7a2f36(0x182),'body':{'name':_0x1f1da7,'object_key':_0x53e8dc}});if(_0x416feb['code']===0x4e20&&_0x416feb[_0x7a2f36(0x137)])return{'success':!![],'resourceId':_0x416feb['data']['id'],'url':_0x416feb[_0x7a2f36(0x137)][_0x7a2f36(0x136)]};return{'success':![],'error':_0x416feb[_0x7a2f36(0x130)]||_0x7a2f36(0x186)};}async[a0_0x4024cc(0x13a)](_0x56b048,_0x5e86a0=a0_0x4024cc(0x188)){const _0x1e875a=a0_0x4024cc,_0x49fa0d=await this[_0x1e875a(0x155)](_0x5e86a0);if(!_0x49fa0d[_0x1e875a(0x17c)])return _0x49fa0d;const _0x2a8cbe=await this[_0x1e875a(0x174)](_0x49fa0d['data'],_0x56b048);if(!_0x2a8cbe[_0x1e875a(0x17c)])return _0x2a8cbe;const _0x1e34d2=await this['commitResource'](_0x2a8cbe[_0x1e875a(0x18c)],_0x5e86a0);return _0x1e34d2;}async[a0_0x4024cc(0x13d)](_0x1974ab,_0x561890){const _0x490bd6=a0_0x4024cc,_0x68fe56={'web_app_id':parseInt(_0x1974ab['id']),'input_values':_0x561890},_0x64f5c5=await this[_0x490bd6(0x143)](_0x490bd6(0x164),{'method':_0x490bd6(0x182),'body':_0x68fe56}),_0x1d700c=_0x64f5c5&&_0x64f5c5[_0x490bd6(0x138)]===0x4e20||_0x64f5c5&&_0x64f5c5['status']==='Success';if(_0x1d700c)return{'success':!![],'data':_0x64f5c5[_0x490bd6(0x137)]||_0x64f5c5,'outputs':(_0x64f5c5['data']?_0x64f5c5['data']['outputs']:_0x64f5c5['outputs'])||[]};console[_0x490bd6(0x142)](_0x490bd6(0x178),JSON[_0x490bd6(0x152)](_0x64f5c5,null,0x2));const _0x4a5c12=_0x64f5c5[_0x490bd6(0x130)]||(_0x64f5c5[_0x490bd6(0x138)]?'HTTP\x20'+_0x64f5c5[_0x490bd6(0x138)]:'Task\x20creation\x20failed\x20(no\x20detailed\x20error)');return{'success':![],'error':_0x4a5c12};}async['getTaskStatus'](_0x2ae966){const _0x11aa54=a0_0x4024cc,_0x504652=await this[_0x11aa54(0x143)](_0x11aa54(0x18b)+_0x2ae966);if(_0x504652[_0x11aa54(0x138)]===0x4e20&&_0x504652[_0x11aa54(0x137)])return{'success':!![],'status':_0x504652[_0x11aa54(0x137)]['status'],'outputs':_0x504652[_0x11aa54(0x137)]['outputs'],'error':_0x504652[_0x11aa54(0x137)][_0x11aa54(0x130)]};return{'success':![],'error':_0x504652['message']||'Failed\x20to\x20query\x20task\x20status'};}async[a0_0x4024cc(0x17a)](_0x464c8b){const _0x37cd1c=a0_0x4024cc;if(!_0x464c8b)return{'success':![],'error':_0x37cd1c(0x18e)};try{const _0x2c1fac=await this[_0x37cd1c(0x143)]('/w/v1/comfy/task/'+_0x464c8b+'/interrupt',{'method':'POST'});return{'success':!![],'data':_0x2c1fac};}catch(_0x1c39ce){return{'success':![],'error':_0x37cd1c(0x16f)+_0x1c39ce[_0x37cd1c(0x130)]};}}async['downloadImage'](_0x3cdb39){try{const _0xdd01cf=await fetch(_0x3cdb39);if(!_0xdd01cf['ok'])throw new Error('HTTP\x20'+_0xdd01cf['status']);return await _0xdd01cf['arrayBuffer']();}catch(_0x3a5755){return null;}}}window[a0_0x4024cc(0x179)]=new BizyAirAPI();function a0_0x4431(_0x25c2c,_0x4b3fba){_0x25c2c=_0x25c2c-0x12f;const _0x3bdad4=a0_0x3bda();let _0x4431c7=_0x3bdad4[_0x25c2c];if(a0_0x4431['mWoEDc']===undefined){var _0x96a7fe=function(_0x283b78){const _0x31f2bc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x22794d='',_0x2f6bf4='';for(let _0x3e9db9=0x0,_0xbce373,_0x5680b8,_0x33e1d6=0x0;_0x5680b8=_0x283b78['charAt'](_0x33e1d6++);~_0x5680b8&&(_0xbce373=_0x3e9db9%0x4?_0xbce373*0x40+_0x5680b8:_0x5680b8,_0x3e9db9++%0x4)?_0x22794d+=String['fromCharCode'](0xff&_0xbce373>>(-0x2*_0x3e9db9&0x6)):0x0){_0x5680b8=_0x31f2bc['indexOf'](_0x5680b8);}for(let _0x281a79=0x0,_0x5535d5=_0x22794d['length'];_0x281a79<_0x5535d5;_0x281a79++){_0x2f6bf4+='%'+('00'+_0x22794d['charCodeAt'](_0x281a79)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f6bf4);};a0_0x4431['VCwUEa']=_0x96a7fe,a0_0x4431['ihImVY']={},a0_0x4431['mWoEDc']=!![];}const _0x3b69a0=_0x3bdad4[0x0],_0x447673=_0x25c2c+_0x3b69a0,_0x2c30a4=a0_0x4431['ihImVY'][_0x447673];return!_0x2c30a4?(_0x4431c7=a0_0x4431['VCwUEa'](_0x4431c7),a0_0x4431['ihImVY'][_0x447673]=_0x4431c7):_0x4431c7=_0x2c30a4,_0x4431c7;}function a0_0x3bda(){const _0x968d19=['l3GVDJeVD2vIyxbWlW','z2v0sgvHzgvYCW','uMvXDwvZDcb0Aw1LzcbVDxqGywz0zxiGnsbTAw51DgvZ','DxjS','zgf0yq','y29Kzq','nMHMDwvYqG','DxbSB2fKsw1Hz2u','igL0zw1Zks4','A2v5CW','CNvUqxbW','r0vu','ugfYC2uGzxjYB3i6ia','rMfPBgvKihrVigDLDcb1C2vYigLUzM8','Bwf4','zxjYB3i','CMvXDwvZDa','Chv0','qxv0Ag9YAxPHDgLVBG','jMzPBgvFDhLWzt1PBNb1Dhm','w09tu10GuMvJB3zLCMvKigjPBMfYEsbKyxrHigzYB20GqxjYyxK6ia','ndyWotK5t1npy1Ly','AxnbCNjHEq','rMfPBgvKihrVigDLDcbbChaGAw5MBW','w0fqsv0GuMf3igXPC3qGCMvJzwL2zwqGka','CMvNAw9U','CgfYC2u','nJy5mJK0mfLfyKv6qW','BgvUz3rO','l3GVDJeVDxnLCI9TzxrHzgf0yq','nJbPwfv5rK4','C3rYAw5NAwz5','DhLWzq','mteXnZnHy2HvBvG','z2v0vxbSB2fKvg9Rzw4','rMfPBgvKihrVigDLDcb3ywXSzxqGAw5MBW','z2v0qxbWsw5MBW','C3rHDhvZ','rMfPBgvKihrVigDLDcb1CgXVywqGDg9Rzw4','B25SB2fK','yNvMzMvY','qxbWBgLJyxrPB24','w09tu10Gt2jQzwn0igHHCYbUBYbUDw1LCMLJigTLExmSihjLy292zxj5ihnRAxbWzwq','BMfTzq','mta2nZC1tMDnzNrv','w0fqsv0Gu3vJy2vZC2z1BgX5igv4DhjHy3rLzca','l3KVDJeVD2fSBgv0','Bwv0Ag9K','B3bLBG','l3CVDJeVD2vIyxbWl3rHC2SVB3bLBMfWAs9JCMvHDgu','B2jQzwn0x2TLEq','D2fYBG','C2vUza','q29UBMvJDgLVBIbMywLSzwq6ia','z2v0vxnLCKLUzM8','yxbWBgLJyxrPB24VANnVBG','zMLSDgvY','sw52ywXPzcbbueKGzgf0ysbZDhj1y3r1CMu','B250Aw1LB3v0','yNvJA2v0','sw50zxjYDxb0igzHAwXLzdOG','vw5RBM93BIbLCNjVCG','sfruuca','tMv0D29YAYbLCNjVCIWGCgXLyxnLignOzwnRignVBM5Ly3rPB24','nJe1nZm4uwntsvnY','DxbSB2fKvg9pu1m','B2jQzwn0','yxbPs2v5','w0fqsv0Gvw5LEhbLy3rLzcbYzxnWB25ZzsbZDhj1y3r1CMu6','w0fqssbfuLjpuL0GCNvUqxbWigzHAwXLzdO','yML6EwfPCKfqsq','Aw50zxjYDxb0vgfZAW','mZiXmty1owP3CNP4Ba','C3vJy2vZCW','B25LCNjVCG','BwfW','y29TBwL0uMvZB3vYy2u','yM9KEq','C3rHCNrZv2L0Aa','ue9tva','igj5DgvZ','uMvXDwvZDcbMywLSzwq6ia','ywnJzxnZx2TLEv9Pza','rMfPBgvKihrVignVBw1PDcbYzxnVDxjJzq','C2v0qxbPs2v5','DxHWx3vWBg9Hzc5WBMC','BgLZDa','zM9YrwfJAa','l3CVDJeVD2vIyxbWl3rHC2SVB3bLBMfWAs9ZDgf0Dxm/DgfZA19Pzd0','B2jQzwn0s2v5','mJGYoti0men5sfjNqW','vgfZAYbjrcbPCYbYzxf1AxjLza','l3GVDJeVDxbSB2fKl3rVA2vUp2zPBgvFBMfTzt0','Ahr0Chm6lY9HCgKUyML6EwfPCI5JBG','Bg9N','BwvZC2fNzq','z2v0vxnLCLDHBgXLDa','oengs3bhyG'];a0_0x3bda=function(){return _0x968d19;};return a0_0x3bda();}
function a0_0x2591(_0x405ae0,_0x29ad67){_0x405ae0=_0x405ae0-0xb9;const _0x318db7=a0_0x318d();let _0x2591d0=_0x318db7[_0x405ae0];if(a0_0x2591['ihhdkO']===undefined){var _0x28a068=function(_0x5e5126){const _0x1da0cd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x12165f='',_0x50d4f0='';for(let _0x4ef5a1=0x0,_0x262b68,_0x2b7ac0,_0x253a49=0x0;_0x2b7ac0=_0x5e5126['charAt'](_0x253a49++);~_0x2b7ac0&&(_0x262b68=_0x4ef5a1%0x4?_0x262b68*0x40+_0x2b7ac0:_0x2b7ac0,_0x4ef5a1++%0x4)?_0x12165f+=String['fromCharCode'](0xff&_0x262b68>>(-0x2*_0x4ef5a1&0x6)):0x0){_0x2b7ac0=_0x1da0cd['indexOf'](_0x2b7ac0);}for(let _0x2e84f2=0x0,_0x4b1f16=_0x12165f['length'];_0x2e84f2<_0x4b1f16;_0x2e84f2++){_0x50d4f0+='%'+('00'+_0x12165f['charCodeAt'](_0x2e84f2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x50d4f0);};a0_0x2591['OyStjx']=_0x28a068,a0_0x2591['VkonwN']={},a0_0x2591['ihhdkO']=!![];}const _0x54ed1e=_0x318db7[0x0],_0x1a0afe=_0x405ae0+_0x54ed1e,_0xd0605e=a0_0x2591['VkonwN'][_0x1a0afe];return!_0xd0605e?(_0x2591d0=a0_0x2591['OyStjx'](_0x2591d0),a0_0x2591['VkonwN'][_0x1a0afe]=_0x2591d0):_0x2591d0=_0xd0605e,_0x2591d0;}const a0_0xd40fd7=a0_0x2591;(function(_0x2e7b24,_0x1dbc68){const _0x14547c=a0_0x2591,_0x2dbbe5=_0x2e7b24();while(!![]){try{const _0xe7a939=-parseInt(_0x14547c(0xd2))/0x1+-parseInt(_0x14547c(0xca))/0x2+parseInt(_0x14547c(0x119))/0x3*(-parseInt(_0x14547c(0xeb))/0x4)+-parseInt(_0x14547c(0xf4))/0x5*(-parseInt(_0x14547c(0xee))/0x6)+-parseInt(_0x14547c(0x10a))/0x7+-parseInt(_0x14547c(0xcb))/0x8*(parseInt(_0x14547c(0xc5))/0x9)+parseInt(_0x14547c(0xd1))/0xa;if(_0xe7a939===_0x1dbc68)break;else _0x2dbbe5['push'](_0x2dbbe5['shift']());}catch(_0x3ca492){_0x2dbbe5['push'](_0x2dbbe5['shift']());}}}(a0_0x318d,0x84683));const BIZYAIR_BASE_URL=a0_0xd40fd7(0xdf);class BizyAirAPI{constructor(){const _0x239676=a0_0xd40fd7;this[_0x239676(0xe1)]='';}[a0_0xd40fd7(0xc2)](_0x12165f){const _0x59bd2c=a0_0xd40fd7;this[_0x59bd2c(0xe1)]=_0x12165f;}[a0_0xd40fd7(0xf7)](){const _0x1d8952=a0_0xd40fd7,_0x50d4f0={'Content-Type':'application/json','Accept':_0x1d8952(0x102)};if(this[_0x1d8952(0xe1)]){const _0x4ef5a1=this[_0x1d8952(0xe1)][_0x1d8952(0x110)]('Bearer\x20')?this['apiKey']:'Bearer\x20'+this[_0x1d8952(0xe1)];_0x50d4f0[_0x1d8952(0x10f)]=_0x4ef5a1;}return _0x50d4f0;}async['request'](_0x262b68,_0x2b7ac0={}){return new Promise((_0x253a49,_0x2e84f2)=>{const _0x546fe2=a0_0x2591,_0x4b1f16=_0x262b68['startsWith']('/')?_0x262b68:'/'+_0x262b68,_0x3c2a50=''+BIZYAIR_BASE_URL+_0x4b1f16,_0x4f0c46=_0x2b7ac0[_0x546fe2(0xf1)]||_0x546fe2(0xf3),_0x417347=this[_0x546fe2(0xf7)]();let _0x5ccd13=_0x2b7ac0[_0x546fe2(0xc4)];_0x5ccd13&&typeof _0x5ccd13==='object'&&(_0x5ccd13=JSON[_0x546fe2(0xd6)](_0x5ccd13));const _0x371e05=new XMLHttpRequest();_0x371e05[_0x546fe2(0xb9)](_0x4f0c46,_0x3c2a50,!![]),Object['keys'](_0x417347)['forEach'](_0x3774b6=>{const _0xad17b9=_0x546fe2;_0x371e05[_0xad17b9(0xd5)](_0x3774b6,_0x417347[_0x3774b6]);}),_0x371e05[_0x546fe2(0xcc)]=0x493e0,_0x371e05[_0x546fe2(0x121)]=()=>{const _0x5baebc=_0x546fe2;try{const _0x36df40=JSON[_0x5baebc(0x120)](_0x371e05[_0x5baebc(0xba)]);_0x371e05[_0x5baebc(0xf9)]>=0xc8&&_0x371e05['status']<0x12c?_0x253a49(_0x36df40):_0x253a49({'code':_0x371e05[_0x5baebc(0xf9)],'message':_0x36df40[_0x5baebc(0xe6)]||_0x5baebc(0xe4)+_0x371e05[_0x5baebc(0xf9)],'success':![]});}catch(_0x49b604){_0x253a49({'code':-0x1,'message':_0x5baebc(0xcf)+_0x49b604[_0x5baebc(0xe6)],'success':![]});}},_0x371e05[_0x546fe2(0xbd)]=()=>{const _0x49e86c=_0x546fe2;_0x253a49({'code':-0x1,'message':_0x49e86c(0xfb),'success':![]});},_0x371e05[_0x546fe2(0x10d)]=()=>{const _0x2d9757=_0x546fe2;_0x253a49({'code':-0x1,'message':_0x2d9757(0xdd),'success':![]});},_0x371e05[_0x546fe2(0xf8)](_0x5ccd13);});}async[a0_0xd40fd7(0xc7)](){const _0x355a07=a0_0xd40fd7;if(!this['apiKey'])return{'success':![],'error':_0x355a07(0x112)};try{const _0x9acfb1=await this[_0x355a07(0x113)](_0x355a07(0xd8));if(_0x9acfb1&&_0x9acfb1[_0x355a07(0xcd)]===0x4e20)return{'success':!![]};return{'success':![],'error':_0x9acfb1?_0x9acfb1['message']:_0x355a07(0x116)};}catch(_0x5a095e){return{'success':![],'error':_0x355a07(0xce)+_0x5a095e[_0x355a07(0xe6)]};}}async['fetchMyApps'](){const _0x37aea2=a0_0xd40fd7;try{const _0x118826=_0x37aea2(0x114);console[_0x37aea2(0x11d)](_0x37aea2(0xbb));const _0x12f299=await this[_0x37aea2(0x113)](_0x118826);if(_0x12f299&&_0x12f299['code']===0x4e20&&_0x12f299['data']&&Array[_0x37aea2(0xbc)](_0x12f299[_0x37aea2(0x11c)]['list'])){const _0x3aea60=_0x12f299[_0x37aea2(0x11c)][_0x37aea2(0xf0)];console[_0x37aea2(0x11d)](_0x37aea2(0x118)+_0x3aea60[_0x37aea2(0xda)]+_0x37aea2(0x122),_0x3aea60);const _0x3ebb72=_0x3aea60[_0x37aea2(0xfa)](_0x298546=>_0x298546[_0x37aea2(0xd9)]===_0x37aea2(0x106))[_0x37aea2(0x108)](_0x3f2dc1=>({'id':String(_0x3f2dc1['id']),'name':_0x3f2dc1[_0x37aea2(0x115)],'source':'my','bizy_model_id':_0x3f2dc1['id']}));return console['log'](_0x37aea2(0xd3)+_0x3ebb72[_0x37aea2(0xda)]+_0x37aea2(0xff),_0x3ebb72),{'success':!![],'apps':_0x3ebb72};}return console[_0x37aea2(0xd7)](_0x37aea2(0x11e),_0x12f299),{'success':![],'error':_0x37aea2(0x10e)};}catch(_0x2c4ac1){return console['error'](_0x37aea2(0xf2),_0x2c4ac1),{'success':![],'error':_0x37aea2(0x117)+_0x2c4ac1['message']};}}async[a0_0xd40fd7(0xd0)](_0x14bcac){const _0x4082e2=a0_0xd40fd7;try{const _0x1526d5=await this[_0x4082e2(0x113)](_0x4082e2(0xc9)+_0x14bcac);if(_0x1526d5&&_0x1526d5[_0x4082e2(0xcd)]===0x4e20&&_0x1526d5[_0x4082e2(0x11c)])return{'success':!![],'app':_0x1526d5[_0x4082e2(0x11c)]};return{'success':![],'error':_0x1526d5[_0x4082e2(0xe6)]||_0x4082e2(0x100)};}catch(_0x38ea7e){return{'success':![],'error':_0x4082e2(0x117)+_0x38ea7e[_0x4082e2(0xe6)]};}}async['getUserInfo'](){const _0x477243=a0_0xd40fd7;try{const _0x325da8=await this[_0x477243(0x113)](_0x477243(0xd8));if(_0x325da8&&_0x325da8[_0x477243(0xcd)]===0x4e20&&_0x325da8[_0x477243(0x11c)])return{'success':!![],'user':_0x325da8[_0x477243(0x11c)]};return{'success':![],'error':_0x325da8['message']||_0x477243(0xfe)};}catch(_0x4f6e92){return{'success':![],'error':_0x477243(0x117)+_0x4f6e92['message']};}}async['getUserWallet'](){const _0x38b523=a0_0xd40fd7;try{const _0x41cd99=await this[_0x38b523(0x113)](_0x38b523(0xe9));if(_0x41cd99&&_0x41cd99['code']===0x4e20&&_0x41cd99[_0x38b523(0x11c)])return{'success':!![],'wallet':_0x41cd99['data']};return{'success':![],'error':_0x41cd99[_0x38b523(0xe6)]||'Failed\x20to\x20get\x20wallet\x20info'};}catch(_0xde73b4){return{'success':![],'error':_0x38b523(0x117)+_0xde73b4[_0x38b523(0xe6)]};}}async[a0_0xd40fd7(0x101)](_0x393f3a){const _0x4db472=a0_0xd40fd7,_0x9239f5=await this[_0x4db472(0x113)]('/x/v1/upload/token?file_name='+encodeURIComponent(_0x393f3a)+_0x4db472(0x11f));if(_0x9239f5[_0x4db472(0xcd)]===0x4e20&&_0x9239f5[_0x4db472(0x11c)])return{'success':!![],'data':_0x9239f5[_0x4db472(0x11c)]};return{'success':![],'error':_0x9239f5[_0x4db472(0xe6)]||_0x4db472(0x105)};}async['uploadToOSS'](_0x55d550,_0x26e0b3){const _0x566066=a0_0xd40fd7,{file:_0x4a2b69,storage:_0x44a6f8}=_0x55d550;try{const _0x34b8ca=new OSS({'region':_0x44a6f8[_0x566066(0x10c)],'accessKeyId':_0x4a2b69[_0x566066(0xdc)],'accessKeySecret':_0x4a2b69[_0x566066(0xfc)],'stsToken':_0x4a2b69['security_token'],'bucket':_0x44a6f8['bucket'],'secure':!![]});let _0x10f913=_0x26e0b3;if(_0x26e0b3&&typeof _0x26e0b3===_0x566066(0xc1)&&!(_0x26e0b3 instanceof ArrayBuffer)&&!(_0x26e0b3 instanceof Blob))try{if(Array['isArray'](_0x26e0b3)){const _0x4be993=new Uint8Array(_0x26e0b3);_0x10f913=_0x4be993[_0x566066(0x103)],console['log'](_0x566066(0xc3)+_0x4be993[_0x566066(0xda)]+_0x566066(0xe7));}else{const _0x505855=Object['keys'](_0x26e0b3)[_0x566066(0x108)](Number)['filter'](_0x3a1aad=>!isNaN(_0x3a1aad));if(_0x505855[_0x566066(0xda)]>0x0){const _0x197cbe=Math[_0x566066(0xc8)](..._0x505855),_0x3d6f28=new Uint8Array(_0x197cbe+0x1);_0x505855[_0x566066(0xc0)](_0x6a220c=>_0x3d6f28[_0x6a220c]=_0x26e0b3[_0x6a220c]),_0x10f913=_0x3d6f28[_0x566066(0x103)],console['log'](_0x566066(0xdb)+_0x3d6f28[_0x566066(0xda)]+_0x566066(0xe7));}else console[_0x566066(0xd7)]('[OSS]\x20Object\x20has\x20no\x20numeric\x20keys,\x20recovery\x20skipped');}}catch(_0x339347){console['warn'](_0x566066(0xbf),_0x339347);}_0x10f913 instanceof ArrayBuffer&&(_0x10f913=new Blob([_0x10f913],{'type':_0x566066(0x107)}));const _0xfdcd8e=await _0x34b8ca[_0x566066(0x11b)](_0x4a2b69[_0x566066(0xe8)],_0x10f913);return{'success':!![],'objectKey':_0x4a2b69[_0x566066(0xe8)]};}catch(_0x247f02){return{'success':![],'error':'OSS\x20Upload\x20Failed:\x20'+_0x247f02[_0x566066(0xe6)]};}}async['commitResource'](_0x59b718,_0x49a176){const _0x5aad57=a0_0xd40fd7,_0xb73201=await this['request'](_0x5aad57(0xde),{'method':_0x5aad57(0xfd),'body':{'name':_0x49a176,'object_key':_0x59b718}});if(_0xb73201[_0x5aad57(0xcd)]===0x4e20&&_0xb73201[_0x5aad57(0x11c)])return{'success':!![],'resourceId':_0xb73201[_0x5aad57(0x11c)]['id'],'url':_0xb73201[_0x5aad57(0x11c)]['url']};return{'success':![],'error':_0xb73201['message']||_0x5aad57(0xe2)};}async[a0_0xd40fd7(0xe0)](_0x49dc02,_0x328935='uxp_upload.png'){const _0x3d359d=a0_0xd40fd7,_0x5cd2b9=await this['getUploadToken'](_0x328935);if(!_0x5cd2b9[_0x3d359d(0xed)])return _0x5cd2b9;const _0x3d509b=await this['uploadToOSS'](_0x5cd2b9['data'],_0x49dc02);if(!_0x3d509b[_0x3d359d(0xed)])return _0x3d509b;const _0x513aa9=await this[_0x3d359d(0xbe)](_0x3d509b[_0x3d359d(0x10b)],_0x328935);return _0x513aa9;}async['runApp'](_0x19fb03,_0x45abb8){const _0x46a8b4=a0_0xd40fd7,_0x1faa27={'web_app_id':parseInt(_0x19fb03['id']),'input_values':_0x45abb8},_0x440bb6=await this[_0x46a8b4(0x113)](_0x46a8b4(0xf6),{'method':_0x46a8b4(0xfd),'body':_0x1faa27}),_0x589997=_0x440bb6&&_0x440bb6[_0x46a8b4(0xcd)]===0x4e20||_0x440bb6&&_0x440bb6[_0x46a8b4(0xf9)]===_0x46a8b4(0xd4);if(_0x589997)return{'success':!![],'data':_0x440bb6[_0x46a8b4(0x11c)]||_0x440bb6,'outputs':(_0x440bb6[_0x46a8b4(0x11c)]?_0x440bb6[_0x46a8b4(0x11c)][_0x46a8b4(0xef)]:_0x440bb6[_0x46a8b4(0xef)])||[]};console[_0x46a8b4(0x111)](_0x46a8b4(0xe5),JSON['stringify'](_0x440bb6,null,0x2));const _0x25c13e=_0x440bb6['message']||(_0x440bb6[_0x46a8b4(0xcd)]?_0x46a8b4(0xe4)+_0x440bb6['code']:_0x46a8b4(0x109));return{'success':![],'error':_0x25c13e};}async[a0_0xd40fd7(0xec)](_0x5951c1){const _0x47ba87=a0_0xd40fd7,_0x4a9f2b=await this[_0x47ba87(0x113)]('/w/v1/webapp/task/openapi/status?task_id='+_0x5951c1);if(_0x4a9f2b['code']===0x4e20&&_0x4a9f2b[_0x47ba87(0x11c)])return{'success':!![],'status':_0x4a9f2b[_0x47ba87(0x11c)][_0x47ba87(0xf9)],'outputs':_0x4a9f2b[_0x47ba87(0x11c)][_0x47ba87(0xef)],'error':_0x4a9f2b[_0x47ba87(0x11c)][_0x47ba87(0xe6)]};return{'success':![],'error':_0x4a9f2b[_0x47ba87(0xe6)]||_0x47ba87(0xe3)};}async[a0_0xd40fd7(0xf5)](_0x2a00cb){const _0x777ad9=a0_0xd40fd7;if(!_0x2a00cb)return{'success':![],'error':_0x777ad9(0x104)};try{const _0x2473ad=await this[_0x777ad9(0x113)]('/w/v1/comfy/task/'+_0x2a00cb+_0x777ad9(0xc6),{'method':'POST'});return{'success':!![],'data':_0x2473ad};}catch(_0x3523ab){return{'success':![],'error':_0x777ad9(0x11a)+_0x3523ab[_0x777ad9(0xe6)]};}}async['downloadImage'](_0x24f578){const _0x2b02e2=a0_0xd40fd7;try{const _0x56cdf2=await fetch(_0x24f578);if(!_0x56cdf2['ok'])throw new Error(_0x2b02e2(0xe4)+_0x56cdf2['status']);return await _0x56cdf2['arrayBuffer']();}catch(_0x485a8c){return null;}}}function a0_0x318d(){const _0xb0f916=['BgvUz3rO','w09tu10GuMvJB3zLCMvKigjPBMfYEsbKyxrHigzYB20Gt2jQzwn0oIa','ywnJzxnZx2TLEv9Pza','uMvXDwvZDcb0Aw1LzcbVDxqGywz0zxiGnsbTAw51DgvZ','l3GVDJeVAw5WDxrFCMvZB3vYy2uVy29TBwL0','Ahr0Chm6lY9HCgKUyML6EwfPCI5JBG','DxbSB2fKsw1Hz2u','yxbPs2v5','rMfPBgvKihrVignVBw1PDcbYzxnVDxjJzq','rMfPBgvKihrVihf1zxj5ihrHC2SGC3rHDhvZ','sfruuca','w0fqssbfuLjpuL0GCNvUqxbWigzHAwXLzdO','BwvZC2fNzq','igj5DgvZ','B2jQzwn0x2TLEq','l3KVDJeVD2fSBgv0','yML6EwfPCKfqsq','nti0y2LKD1fo','z2v0vgfZA1n0yxr1CW','C3vJy2vZCW','nti2nZG4CNLQq09g','B3v0Chv0CW','BgLZDa','Bwv0Ag9K','w0fqsv0GzMv0y2HnEufWChmGy3jPDgLJywWGzMfPBhvYztO','r0vu','nwnMDvn5uG','Aw50zxjYDxb0vgfZAW','l3CVDJeVD2vIyxbWl3rHC2SVB3bLBMfWAs9JCMvHDgu','z2v0sgvHzgvYCW','C2vUza','C3rHDhvZ','zMLSDgvY','tMv0D29YAYbLCNjVCIWGCgXLyxnLignOzwnRignVBM5Ly3rPB24','ywnJzxnZx2TLEv9ZzwnYzxq','ue9tva','rMfPBgvKihrVigDLDcb1C2vYigLUzM8','igfWCgXPy2f0Aw9UCY4','rMfPBgvKihrVigDLDcbbChaGAw5MBW','z2v0vxbSB2fKvg9Rzw4','yxbWBgLJyxrPB24VANnVBG','yNvMzMvY','vgfZAYbjrcbPCYbYzxf1AxjLza','rMfPBgvKihrVigDLDcb1CgXVywqGDg9Rzw4','qxbWBgLJyxrPB24','Aw1Hz2uVCg5N','BwfW','vgfZAYbJCMvHDgLVBIbMywLSzwqGkg5VigrLDgfPBgvKigvYCM9Ykq','ntq3nZi5mhvHDuvytq','B2jQzwn0s2v5','CMvNAw9U','B250Aw1LB3v0','sw52ywXPzcbbueKGzgf0ysbZDhj1y3r1CMu','qxv0Ag9YAxPHDgLVBG','C3rHCNrZv2L0Aa','zxjYB3i','qvbjieTLEsbUB3qGC2v0','CMvXDwvZDa','l3GVDJeVyML6Ev9TB2rLBhmVBxK/y3vYCMvUDd0XjNbHz2vFC2L6zt0XmdaMA2v5D29Yzd0MC29YDd1szwnLBNrSEszTB2rLBf90ExbLCZ1mB1jbjM1VzgvSx3r5CgvZpunVBNrYB2XUzxqMBw9KzwXFDhLWzxm9q2HLy2TWB2LUDczTB2rLBf90ExbLCZ1wquuMBw9KzwXFDhLWzxm9vu5LDczTB2rLBf90ExbLCZ1dteLqjM1VzgvSx3r5CgvZpvvWC2nHBgvYjM1VzgvSx3r5CgvZpurLDgvJDgLVBIzTB2rLBf90ExbLCZ1pDgHLCIzTB2rLBf90ExbLCZ1bChbSAwnHDgLVBIzTB2rLBf90ExbLCZ1xB3jRzMXVDW','BMfTzq','vw5RBM93BIbLCNjVCG','uMvXDwvZDcbMywLSzwq6ia','w0fqsv0GuMf3igXPC3qGCMvJzwL2zwqGka','mJiWntnHwu5sEfq','sw50zxjYDxb0igzHAwXLzdOG','Chv0','zgf0yq','Bg9N','w0fqsv0Gvw5LEhbLy3rLzcbYzxnWB25ZzsbZDhj1y3r1CMu6','jMzPBgvFDhLWzt1PBNb1Dhm','CgfYC2u','B25SB2fK','igL0zw1Zks4','B3bLBG','CMvZCg9UC2vuzxH0','w0fqsv0GrMv0y2HPBMCGBxKGyxbWCYb3AxrOignVCNjLy3rLzcbZDhj1y3r1CMuGBwfWCgLUzY4UlG','AxnbCNjHEq','B25LCNjVCG','y29TBwL0uMvZB3vYy2u','w09tu10GqMLUyxj5ihjLy292zxj5igzHAwXLza','zM9YrwfJAa','B2jQzwn0','C2v0qxbPs2v5','w09tu10GuMvJB3zLCMvKigjPBMfYEsbKyxrHigzYB20GqxjYyxK6ia','yM9KEq','mJyXD1LmDend','l2LUDgvYCNvWDa','DgvZDenVBM5Ly3rPB24','Bwf4','l3GVDJeVD2vIyxbWlW','mJCWmJy2s25lDKDY','mtGYnZKYEentDunc','DgLTzw91Da','y29Kzq','q29UBMvJDgLVBIbMywLSzwq6ia','ugfYC2uGzxjYB3i6ia','z2v0qxbWsw5MBW','mZeZodi3ndbLq1bNz2W','mtqWnti4EePJvwLq','w0fqsv0Gu3vJy2vZC2z1BgX5igv4DhjHy3rLzca','u3vJy2vZCW','C2v0uMvXDwvZDeHLywrLCG','C3rYAw5NAwz5','D2fYBG','l3GVDJeVDxnLCI9TzxrHzgf0yq','DhLWzq'];a0_0x318d=function(){return _0xb0f916;};return a0_0x318d();}window[a0_0xd40fd7(0xea)]=new BizyAirAPI();